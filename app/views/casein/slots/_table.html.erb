<!-- Scaffolding generated by Casein v5.2.0.0 -->

<table class="table table-striped table-hover table-condensed">
  <thead>
    <tr>
      <th><%= casein_sort_link "User", :user_id %></th>
      <th><%= casein_sort_link "Event", :event_id %></th>
      <th>Event date</th>
      <th>Session length</th>
      <th><%= casein_sort_link "Slot start time", :start_time %></th>
      <th><%= casein_sort_link "Paid?", :is_payed %></th>
      <th>&nbsp;</th>
    </tr>
  </thead>

  <% slots.each do |slot| %>
    <tr>
      <% if !slot.user.nil? %>
        <td>
          <div class="btn btn-default">
            <%= casein_table_cell_link "ID #{slot.user_id}: #{slot.user.first_name} #{slot.user.last_name}", casein_user_path(id: slot.user_id) %>
          </div>
        </td>
      <% else %>
        <td>--</td>
      <% end %>
      <td><%= casein_table_cell_link "#{slot.event_id}: #{slot.event.name}", "#" %></td>
      <td><%= casein_table_cell_link slot.event.date.strftime("%d-%m-%Y"), "#" %></td>
      <td><%= casein_table_cell_link "#{slot.event.slot_duration_minutes + slot.event.time_between_slots} mins (#{slot.event.slot_duration_minutes} play / #{slot.event.time_between_slots} handover)", "#" %></td>
      <td><%= casein_table_cell_link slot.start_time.to_s(:time), "#" %></td>
      <td>
        <div class="btn btn-default">
          <%= casein_table_cell_link slot.is_payed, casein_slot_path(slot) %>
        </div>
      </td>
      <td class="delete">
        <%= link_to(casein_show_row_icon("trash"), casein_slot_path(slot), method: :delete, data: { confirm: "Are you sure you want to delete this slot?" }) %>
      </td>
    </tr>
  <% end %>
</table>
